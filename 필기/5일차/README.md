# OS 5일차

## Semaphore

카운팅 세마포어
- 카운팅 세마포어는 0 또는 양의 정수값을 가짐(값의 상항은 정해져 있지 않음)
- 세마포 값이 0이 될때까지 여러 번 세마포어를 획득(wait)할 수 있음  
<br/>


Pipe와 유사하게 unnamed semaphore와  named semaphore가 있음  
* Unamed semaphore
  - 세마포어가 프로세스 메모리 내에 존재하기 때문에 스레드 간에 사용하는 경우 전역 변수를 사용
  - 프로세스간에 사용하는 경우는 공유 메모리에 세마포머에 만들어 줘야 함  
<br/>

wait
- 세마포어의 값을 1 감소시킴
- 세마포어의 값이 0이면 값을 감소시킬 수 없으므로 sleep queue 에 집어넣고 실행을 중단시킴  
<br/>  

post
- 세마포어의 값을 1 증가시킴
- 세마포어의 값이 0이고 sleep queue에 대기중인 스레드가 있으면 세마포어 값을 증가 시키는 대신 대기중인 스레들 중에 가장 가장 우순선위가 높은 스레드 하나를 sleep queue에서 꺼내 실행을 재개시킴